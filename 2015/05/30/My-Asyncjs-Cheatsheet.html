<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />

    <title>My Async.js Cheatsheet - Yann Bertrand</title>

    <meta name="HandheldFriendly" content="True">
    <meta name="MobileOptimized" content="320">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

    <meta name="description" content="">

    <meta name="twitter:card" content="summary">
    <meta name="twitter:title" content="My Async.js Cheatsheet">
    <meta name="twitter:description" content="">

    <meta property="og:type" content="article">
    <meta property="og:title" content="My Async.js Cheatsheet">
    <meta property="og:description" content="">

    <link href="/favicon.ico" rel="shortcut icon" type="image/x-icon">
    <link href="/apple-touch-icon-precomposed.png" rel="apple-touch-icon">

    <link rel="stylesheet" type="text/css" href="//yannbertrand.github.io/themes/uno/assets/css/uno.css?v=1.0.0" />

    <link rel="canonical" href="https://yannbertrand.github.io/2015/05/30/My-Asyncjs-Cheatsheet.html" />
    
    <meta property="og:site_name" content="Yann Bertrand" />
    <meta property="og:type" content="article" />
    <meta property="og:title" content="My Async.js Cheatsheet" />
    <meta property="og:description" content="This cheatsheet&amp;#8217;s aim is to simplify the Aync.js library docs. However the complete docs can be found at https://github.com/caolan/async. About Async.js Async is a utility module which provides straight-forward, powerful functions for..." />
    <meta property="og:url" content="https://yannbertrand.github.io/2015/05/30/My-Asyncjs-Cheatsheet.html" />
    <meta property="article:published_time" content="2015-05-29T22:00:00.000Z" />
    <meta property="article:modified_time" content="2015-06-09T09:26:36.658Z" />
    <meta property="article:tag" content="english" />
    <meta property="article:tag" content="tech" />
    <meta property="article:tag" content="js" />
    
    <meta name="twitter:card" content="summary" />
    <meta name="twitter:title" content="My Async.js Cheatsheet" />
    <meta name="twitter:description" content="This cheatsheet&amp;#8217;s aim is to simplify the Aync.js library docs. However the complete docs can be found at https://github.com/caolan/async. About Async.js Async is a utility module which provides straight-forward, powerful functions for..." />
    <meta name="twitter:url" content="https://yannbertrand.github.io/2015/05/30/My-Asyncjs-Cheatsheet.html" />
    
    <script type="application/ld+json">
{
    "@context": "http://schema.org",
    "@type": "Article",
    "publisher": "Yann Bertrand",
    "author": {
        "@type": "Person",
        "name": "Yann Bertrand",
        "image": "https://avatars.githubusercontent.com/u/5855339?v=3",
        "url": "undefined/author/undefined",
        "sameAs": "http://yann-bertrand.fr/"
    },
    "headline": "My Async.js Cheatsheet",
    "url": "https://yannbertrand.github.io/2015/05/30/My-Asyncjs-Cheatsheet.html",
    "datePublished": "2015-05-29T22:00:00.000Z",
    "dateModified": "2015-06-09T09:26:36.658Z",
    "keywords": "english,  tech,  js",
    "description": "This cheatsheet&amp;#8217;s aim is to simplify the Aync.js library docs. However the complete docs can be found at https://github.com/caolan/async. About Async.js Async is a utility module which provides straight-forward, powerful functions for..."
}
    </script>

    <meta name="generator" content="Ghost ?" />
    <link rel="alternate" type="application/rss+xml" title="Yann Bertrand" href="https://yannbertrand.github.io/rss" />
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.4/styles/default.min.css">

</head>
<body class="post-template tag-english tag-tech tag-js no-js">

    <span class="mobile btn-mobile-menu">
        <i class="icon icon-list btn-mobile-menu__icon"></i>
        <i class="icon icon-x-circle btn-mobile-close__icon hidden"></i>
    </span>

    <header class="panel-cover panel-cover--collapsed " >
      <div class="panel-main">
    
        <div class="panel-main__inner panel-inverted">
        <div class="panel-main__content">
    
            <h1 class="panel-cover__title panel-title"><a href="https://yannbertrand.github.io" title="link to homepage for Yann Bertrand">Yann Bertrand</a></h1>
            <hr class="panel-cover__divider" />
            <p class="panel-cover__description">Pok√©mon Master &amp; Web Passionate</p>
            <hr class="panel-cover__divider panel-cover__divider--secondary" />
    
            <div class="navigation-wrapper">
    
              <nav class="cover-navigation cover-navigation--primary">
                <ul class="navigation">
                  <li class="navigation__item"><a href="https://yannbertrand.github.io/#blog" title="link to Yann Bertrand blog" class="blog-button">Blog</a></li>
                </ul>
              </nav>
    
              
              
              <nav class="cover-navigation navigation--social">
                <ul class="navigation">
              
              
                  <!-- Twitter -->
                  <li class="navigation__item">
                    <a href="https://twitter.com/MrYannooo" title="Twitter account">
                      <i class='icon icon-social-twitter'></i>
                      <span class="label">Twitter</span>
                    </a>
                  </li>
              
              
                  <!-- Github -->
                  <li class="navigation__item">
                    <a href="https://github.com/YannBertrand" title="Github account">
                      <i class='icon icon-social-github'></i>
                      <span class="label">Github</span>
                    </a>
                  </li>
                  </li>
              
              
              
              
                  <!-- LinkedIn -->
                  <li class="navigation__item">
                    <a href="https://www.linkedin.com/in/yannbertrand" title="LinkedIn account">
                      <i class='icon icon-social-linkedin'></i>
                      <span class="label">LinkedIn</span>
                    </a>
                  </li>
              
                  <!-- Email -->
                  <li class="navigation__item">
                    <a href="mailto:yann@bertrand.com" title="Email yann@bertrand.com">
                      <i class='icon icon-mail'></i>
                      <span class="label">Email</span>
                    </a>
                  </li>
              
                </ul>
              </nav>
              
    
            </div>
    
          </div>
    
        </div>
    
        <div class="panel-cover--overlay"></div>
      </div>
    </header>

    <div class="content-wrapper">
        <div class="content-wrapper__inner">
            

  <article class="post-container post-container--single">

    <header class="post-header">
      <div class="post-meta">
        <time datetime="30 May 2015" class="post-meta__date date">30 May 2015</time> &#8226; <span class="post-meta__tags tags">on <a href="https://yannbertrand.github.io/tag/english">english</a>, <a href="https://yannbertrand.github.io/tag/tech"> tech</a>, <a href="https://yannbertrand.github.io/tag/js"> js</a></span>
        <span class="post-meta__author author"><img src="https://avatars.githubusercontent.com/u/5855339?v=3" alt="profile image for Yann Bertrand" class="avatar post-meta__avatar" /> by Yann Bertrand</span>
      </div>
      <h1 class="post-title">My Async.js Cheatsheet</h1>
    </header>

    <section class="post tag-english tag-tech tag-js">
      <div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>This cheatsheet&#8217;s aim is to simplify the Aync.js library docs. However the complete docs can be found at <a href="https://github.com/caolan/async" class="bare">https://github.com/caolan/async</a>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_about_async_js">About Async.js</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Async is a utility module which provides straight-forward, powerful functions for working with asynchronous JavaScript. Although originally designed for use with Node.js and installable via npm install async, it can also be used directly in the browser.</p>
</div>
<div class="sect2">
<h3 id="_async_each_code_arr_code_code_iterator_code_code_callback_code">async.each(<code>arr</code>, <code>iterator</code>, <code>[callback]</code>)</h3>
<div class="paragraph">
<p>Applies the function <code>iterator</code> to each item in <code>arr</code>, in parallel. The <code>iterator</code> is called with an item from the list, and a <code>callback</code> for when it has finished. If the <code>iterator</code> passes an error to its callback, the main <code>callback</code> (for the each function) is immediately called with the error.</p>
</div>
<div class="paragraph">
<p>Note, that since this function applies <code>iterator</code> to each item in parallel, there is no guarantee that the iterator functions will complete in order.</p>
</div>
<div class="paragraph">
<p><strong>Arguments</strong></p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><code>arr</code> (Array): An array to iterate over.</p>
</li>
<li>
<p><code>iterator(item, next)</code> (Function): A function to apply to each item in arr. The iterator is passed a next(err) which must be called once it has completed. If no error has occurred, the next should be run without arguments or with an explicit null argument. The array index is not passed to the iterator. If you need the index, use forEachOf.</p>
</li>
<li>
<p><code>callback(err)</code> (Function): A callback which is called when all iterator functions have finished, or an error occurs.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p><strong>Example</strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>// assuming openFiles is an array of file names
async.each(openFiles, function (file, next) {

  // Perform operation on file here.
  console.log('Processing file ' + file);

  if( file.length &gt; 32 ) {
      console.log('This file name is too long');
      next('File name too long');
  } else {
      // Do work to process file here
      console.log('File processed');
      next();
  }

}, function (err){
    // if any of the file processing produced an error, err would equal that error
    if(err) {
        // One of the iterations produced an error.
        // All processing will now stop.
        console.log('A file failed to process');
        console.dir(err);
    } else {
        console.log('All files have been processed successfully');
    }
});</code></pre>
</div>
</div>
<div class="paragraph">
<p><strong>Flowcharts</strong></p>
</div>
<div id="img-each" class="imageblock">
<div class="content">
<a class="image" href="https://github.com/YannBertrand/yannbertrand.github.io/blob/master/images/async/each.png"><img src="/images/each.png" alt="each.png"></a>
</div>
<div class="title">Figure 1. async.each flowchart</div>
</div>
<div class="imageblock">
<div class="content">
<img src="/images/<async/each_error.png>" alt="async.each error flowchart">
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_asynchronous_control_flow">Asynchronous Control Flow</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_async_series_code_tasks_code_code_callback_code">async.series(<code>tasks</code>, <code>[callback]</code>)</h3>
<div class="paragraph">
<p>Run the functions in the <code>tasks</code> array in series, <strong>each one running once the previous function has completed</strong>. If any functions in the series pass an error to its callback, no more functions are run, and <code>callback</code> is immediately called with the value of the error. Otherwise, <code>callback</code> receives an array of results when tasks have completed.</p>
</div>
<div class="paragraph">
<p><strong>Arguments</strong></p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><code>tasks</code> (Array|Object): An array or object containing functions to run. Each function is passed a next(err, result) which it must call on completion with an error err (which can be null) and an optional result value.</p>
</li>
<li>
<p><code>callback(err, results)</code> (Function): An optional callback to run once all the functions have completed. This function gets a results array (or object) containing all the result arguments passed to the task callbacks.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p><strong>Example</strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>async.series([
    function(next){
        // do some stuff ...
        next(null, 'one');
    },
    function(next){
        // do some more stuff ...
        next(null, 'two');
    }
],
// optional callback
function (err, results){
    // results is now equal to ['one', 'two']
});</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_async_waterfall_code_tasks_code_code_callback_code">async.waterfall(<code>tasks</code>, <code>[callback]</code>)</h3>
<div class="paragraph">
<p>Runs the <code>tasks</code> array of functions in series, <strong>each passing their results to the next in the array</strong>. However, if any of the tasks pass an error to their own callback, the next function is not executed, and the main <code>callback</code> is immediately called with the error.</p>
</div>
<div class="paragraph">
<p><strong>Example</strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>async.waterfall([
    function (next) {
        next(null, 'one', 'two');
    },
    function (arg1, arg2, next) {
      // arg1 now equals 'one' and arg2 now equals 'two'
        next(null, 'three');
    },
    function (arg1, next) {
        // arg1 now equals 'three'
        next(null, 'done');
    }
], function (err, result) {
    // result now equals 'done'
});</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_async_parallel_code_tasks_code_code_callback_code">async.parallel(<code>tasks</code>, <code>[callback]</code>)</h3>
<div class="paragraph">
<p>Run the <code>tasks</code> array of functions in parallel, <strong>without waiting until the previous function has completed</strong>. If any of the functions pass an error to its callback, the main <code>callback</code> is immediately called with the value of the error. Once the tasks have completed, the results are passed to the final callback as an array.</p>
</div>
<div class="paragraph">
<p><strong>Example</strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>async.parallel([
    function (next){
        setTimeout(function(){
            next(null, 'one');
        }, 200);
    },
    function (next){
        setTimeout(function(){
            next(null, 'two');
        }, 100);
    }
],
// optional callback
function (err, results){
    // the results array will equal ['one','two'] even though
    // the second function had a shorter timeout.
});</code></pre>
</div>
</div>
</div>
</div>
</div>
    </section>

  </article>




            <footer class="footer">
                <span class="footer__copyright">&copy; 2015. All rights reserved.</span>
                <span class="footer__copyright"><a href="http://uno.daleanthony.com" title="link to page for Uno Ghost theme">Uno theme</a> by <a href="http://daleanthony.com" title="link to website for Dale-Anthony">Dale-Anthony</a></span>
                <span class="footer__copyright">Proudly published with <a href="http://hubpress.io" title="link to Hubpress website">Hubpress</a></span>
            </footer>
        </div>
    </div>

    <script src="//cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js?v="></script> <script src="//cdnjs.cloudflare.com/ajax/libs/moment.js/2.9.0/moment-with-locales.min.js?v="></script> <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.4/highlight.min.js?v="></script> 
      <script type="text/javascript">
        jQuery( document ).ready(function() {
          // change date with ago
          jQuery('ago.ago').each(function(){
            var element = jQuery(this).parent();
            element.html( moment(element.text()).fromNow());
          });
        });

        hljs.initHighlightingOnLoad();      
      </script>

    <script type="text/javascript" src="//yannbertrand.github.io/themes/uno/assets/js/main.js?v=1.0.0"></script>
    
    <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-35727788-4', 'auto');
    ga('send', 'pageview');

    </script>

</body>
</html>
